# TASKS

マイルストーン: M1
ゴール: docs/REQUIREMENTS.md の必須要件を満たす `crv` を出荷可能にする

## ワークフロールール

- タスク着手時にステータスを 🚧 に更新する
- タスク完了時にステータスを ✅ に更新する
- DependsOn のタスクがすべて ✅ でないタスクには着手しない

## ステータス表記ルール

| Status | 意味 |
| ---- | ----- |
| ⏳ | 未着手、TODO |
| 🚧 | 作業中、IN_PROGRESS |
| 🧪 | 確認待ち、REVIEW |
| ✅ | 完了、DONE |
| 🚫 | 中止、CANCELLED |

## タスク一覧

| ID | Status | Summary | DependsOn |
| --- | --- | --- | --- |
| TASK-001 | ✅ | 作成する要件トレーサビリティ表を定義する | - |
| TASK-002 | ✅ | 実装するCLI引数解析と起動フローを整備する | TASK-001 |
| TASK-003 | ✅ | 実装するJaCoCo XMLパーサと集計モデルを整備する | TASK-001 |
| TASK-004 | ✅ | 実装するPOM解析とレポート探索ロジックを整備する | TASK-002,TASK-003 |
| TASK-005 | ✅ | 実装するTUI共通レイアウトと画面状態管理を整備する | TASK-002,TASK-003 |
| TASK-006 | ✅ | 実装する階層ドリルダウンと戻る操作を整備する | TASK-005 |
| TASK-007 | ✅ | 実装するソート切替とソート状態表示を整備する | TASK-005 |
| TASK-008 | ✅ | 実装する閾値色分けとカバレッジバー表示を整備する | TASK-002,TASK-005 |
| TASK-009 | ✅ | 実装するエラーメッセージとヘルプ表示を整備する | TASK-002,TASK-004 |
| TASK-010 | ✅ | 作成する必須要件の単体テストと結合テストを整備する | TASK-004,TASK-006,TASK-007,TASK-008,TASK-009 |
| TASK-011 | ✅ | 検証する起動性能1秒要件と対応OS動作を確認する | TASK-010 |
| TASK-012 | ✅ | 整備するGoReleaserと配布経路設定を作成する | TASK-002,TASK-010 |
| TASK-013 | ✅ | 更新するREADMEと受け入れ確認記録を作成する | TASK-010,TASK-011,TASK-012 |
| TASK-014 | ✅ | 実装するカウンタ種別切替表示を整備する | TASK-013 |
| TASK-015 | ✅ | 実装するターミナル幅追従レイアウトを整備する | TASK-013 |
| TASK-016 | ✅ | 実装する`--no-color`対応表示制御を整備する | TASK-013 |
| TASK-017 | ✅ | 実装するインクリメンタル名前フィルターを整備する | TASK-013 |
| TASK-018 | ✅ | 実装する`g`/`G`ジャンプ操作を整備する | TASK-013 |
| TASK-019 | ✅ | 実装するマルチモジュールXMLマージを整備する | TASK-013 |
| TASK-020 | ✅ | 実装するソースコード行カバレッジ表示を整備する | TASK-013 |
| TASK-021 | 🚫 | 実装するdiffモード比較表示を整備する | TASK-013 |
| TASK-022 | 🚫 | 実装する表示結果のテキストJSON出力を整備する | TASK-013 |
| TASK-023 | ✅ | 実装するXML変更監視のWatchモードを整備する | TASK-013 |
| TASK-024 | ✅ | 実装するCobertura XML入力アダプタを整備する（Python対応の第一段） | TASK-013 |
| TASK-025 | ✅ | 実装する入力フォーマット自動判別と`--format`指定を整備する | TASK-024 |
| TASK-026 | ✅ | 実装するLCOV入力アダプタを整備する（Rust/Python拡張） | TASK-025 |
| TASK-027 | ✅ | 整備する旧コマンド名（`jrv`）から `crv` への移行ガイドと互換方針を定義する | TASK-024 |
| TASK-028 | ✅ | 更新するREADME/要件/リリース手順を多言語対応拡張に合わせて改訂する | TASK-027,TASK-026 |

## タスク詳細（補足が必要な場合のみ）

### TASK-001

- 補足: 機能要件IDとテストケースIDを1対多で対応付ける
- 注意: 任意要件と将来要件はM1対象外として明示する

### TASK-004

- 補足: `pom.xml` の `<plugins>` と `<pluginManagement>` を探索する
- 注意: 未検出時は Maven/Gradle デフォルトパスへ順次フォールバックする

### TASK-011

- 補足: 1,000クラス規模XMLで起動完了までの時間を計測する
- 注意: 測定条件を記録し再現可能な手順で保存する

### TASK-019

- 補足: POMの`<modules>`をたどり複数XMLを統合する
- 注意: マージ戦略と重複集計ルールを先に定義する

### TASK-024

- 補足: 既存JaCoCoモデルへCobertura XMLを正規化して取り込む
- 注意: 階層（Package/Class/Method）欠落時の補完規則を先に定義する

### TASK-027

- 補足: `jrv` 利用者向けに `crv` への移行手順と互換運用（案内/エイリアス）を定義する
- 注意: 互換提供期間と終了条件を事前に明文化する

### TASK-022

- 補足: 現時点ではCLI/TUIの閲覧体験を優先し、テキスト/JSONエクスポートは対象外とする
- 注意: 将来必要になった場合は新規TASKとして再起票する
